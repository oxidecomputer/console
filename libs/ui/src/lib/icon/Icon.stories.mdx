<!-- Icons.stories.mdx-->

import { Canvas, Story, Meta } from '@storybook/addon-docs/blocks'
import styled from 'styled-components'
import { Icon, icons } from './Icon'
import { colorPalette } from '@oxide/theme'

<Meta
  title="Foundations/Icon"
  component={Icon}
  argTypes={{
    name: {
      control: {
        type: 'select',
        options: Object.keys(icons),
      },
    },
    color: {
      control: {
        type: 'select',
        options: Object.keys(colorPalette),
      },
    },
  }}
/>

# Icons

Icons are rendered as inline SVGS using the [SVGR loader](https://react-svgr.com/docs/getting-started/). Rendering them inline means their `fill` color can be changed via CSS.

export const Template = (args) => <Icon {...args} />

<Canvas>
  <Story name="Icon" args={{ name: 'bookmark', color: 'green500' }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Accessibility

Each `.svg` icon should follow [accessibility best practices](https://www.deque.com/blog/creating-accessible-svgs/). In this case, it means making sure of the following:

- the parent `<svg>` tag has `role="img"` to ensure it gets treated as an image
- the parent `<svg>` tag has an aria labelledby property `aria-labelledby="icon-[ICON_NAME_HERE]"`
- and the first child should be a `<title>` tag with the matching id `id="icon-[ICON_NAME_HERE]"`

The `name` prop matches the `[ICON_NAME_HERE]` label so that you know what screenreaders will be reading. Since each icon is read by a screenreader, treat them as additional text when composing them with other elements.

For example, the following composition:

```tsx
<Icon name="bookmark" /> Settings
```

will output something like "Bookmark (image) Settings" or "Bookmark (graphic) Settings" to the user depending on their software and browser combination.

## Usage

The `<Icon />` component takes two props.

- `name` can be any of the names listed in the table below
- `color` can be any of the available theme colors (e.g. `"green500"`) and will inherit the current color by default

```tsx
<Icon name="dashboard" color="green500" />
```

## All icons

<table>
  <tr>
    <th>SVG</th>
    <th>Name</th>
  </tr>
  {Object.keys(icons).map((key) => {
    return (
      <tr>
        <td>
          <Icon name={key} />
        </td>
        <td>
          <code>{key}</code>
        </td>
      </tr>
    )
  })}
</table>
