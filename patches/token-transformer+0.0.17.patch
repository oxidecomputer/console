diff --git a/node_modules/token-transformer/dist/transform.js b/node_modules/token-transformer/dist/transform.js
index 5411441..f41125a 100644
--- a/node_modules/token-transformer/dist/transform.js
+++ b/node_modules/token-transformer/dist/transform.js
@@ -16,4 +16,4 @@ module.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;va
  *
  * Copyright (c) 2014-2017, Jon Schlinkert.
  * Released under the MIT License.
- */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,r){"use strict";function n(t){return t.match(/(\d+%)/)?Number(t.match(/(\d+%)/)[0].slice(0,-1))/100:Number(t)}r.r(e);var o=r(0),i=r.n(o);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t){switch(t){case"color":case"colors":return"color";case"space":case"spacing":return"spacing";case"size":case"sizing":return"sizing";case"boxShadow":return"boxShadow";case"border":return"border";case"borderRadius":return"borderRadius";case"borderWidth":return"borderWidth";case"opacity":return"opacity";case"fontFamilies":return"fontFamilies";case"fontWeights":return"fontWeights";case"fontSizes":return"fontSizes";case"lineHeights":return"lineHeights";case"typography":return"typography";case"letterSpacing":return"letterSpacing";case"paragraphSpacing":return"paragraphSpacing";default:return"other"}}function c(t){var e=t.type&&""!==t.type&&"undefined"!==t.type?t.type:p(t.name.split(".").slice(0,1).toString());return a(a({},t),{},{type:e})}var h="INUMBER",l="IVAR",f="IEXPR";function y(t,e){this.type=t,this.value=null!=e?e:0}function v(t){return new y("IOP1",t)}function b(t){return new y("IOP2",t)}function d(t){return new y("IOP3",t)}function g(t,e,r){var n,o,i,s,a,u,p=[];if(O(t))return w(t,r);for(var c=t.length,y=0;y<c;y++){var v=t[y],b=v.type;if(b===h||"IVARNAME"===b)p.push(v.value);else if("IOP2"===b)o=p.pop(),n=p.pop(),"and"===v.value?p.push(!!n&&!!g(o,e,r)):"or"===v.value?p.push(!!n||!!g(o,e,r)):"="===v.value?(s=e.binaryOps[v.value],p.push(s(n,g(o,e,r),r))):(s=e.binaryOps[v.value],p.push(s(w(n,r),w(o,r))));else if("IOP3"===b)i=p.pop(),o=p.pop(),n=p.pop(),"?"===v.value?p.push(g(n?o:i,e,r)):(s=e.ternaryOps[v.value],p.push(s(w(n,r),w(o,r),w(i,r))));else if(b===l)if(v.value in e.functions)p.push(e.functions[v.value]);else if(v.value in e.unaryOps&&e.parser.isOperatorEnabled(v.value))p.push(e.unaryOps[v.value]);else{var d=r[v.value];if(void 0===d)throw new Error("undefined variable: "+v.value);p.push(d)}else if("IOP1"===b)n=p.pop(),s=e.unaryOps[v.value],p.push(s(w(n,r)));else if("IFUNCALL"===b){for(u=v.value,a=[];u-- >0;)a.unshift(w(p.pop(),r));if(!(s=p.pop()).apply||!s.call)throw new Error(s+" is not a function");p.push(s.apply(void 0,a))}else if("IFUNDEF"===b)p.push(function(){for(var t=p.pop(),n=[],o=v.value;o-- >0;)n.unshift(p.pop());var i=p.pop(),s=function(){for(var o=Object.assign({},r),i=0,s=n.length;i<s;i++)o[n[i]]=arguments[i];return g(t,e,o)};return Object.defineProperty(s,"name",{value:i,writable:!1}),r[i]=s,s}());else if(b===f)p.push(m(v,e));else if("IEXPREVAL"===b)p.push(v);else if("IMEMBER"===b)n=p.pop(),p.push(n[v.value]);else if("IENDSTATEMENT"===b)p.pop();else{if("IARRAY"!==b)throw new Error("invalid Expression");for(u=v.value,a=[];u-- >0;)a.unshift(p.pop());p.push(a)}}if(p.length>1)throw new Error("invalid Expression (parity)");return 0===p[0]?0:w(p[0],r)}function m(t,e,r){return O(t)?t:{type:"IEXPREVAL",value:function(r){return g(t.value,e,r)}}}function O(t){return t&&"IEXPREVAL"===t.type}function w(t,e){return O(t)?t.value(e):t}function E(t,e){for(var r,n,o,i,s,a,u=[],p=0;p<t.length;p++){var c=t[p],y=c.type;if(y===h)"number"==typeof c.value&&c.value<0?u.push("("+c.value+")"):Array.isArray(c.value)?u.push("["+c.value.map(A).join(", ")+"]"):u.push(A(c.value));else if("IOP2"===y)n=u.pop(),r=u.pop(),i=c.value,e?"^"===i?u.push("Math.pow("+r+", "+n+")"):"and"===i?u.push("(!!"+r+" && !!"+n+")"):"or"===i?u.push("(!!"+r+" || !!"+n+")"):"||"===i?u.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+r+"),("+n+")))"):"=="===i?u.push("("+r+" === "+n+")"):"!="===i?u.push("("+r+" !== "+n+")"):"["===i?u.push(r+"[("+n+") | 0]"):u.push("("+r+" "+i+" "+n+")"):"["===i?u.push(r+"["+n+"]"):u.push("("+r+" "+i+" "+n+")");else if("IOP3"===y){if(o=u.pop(),n=u.pop(),r=u.pop(),"?"!==(i=c.value))throw new Error("invalid Expression");u.push("("+r+" ? "+n+" : "+o+")")}else if(y===l||"IVARNAME"===y)u.push(c.value);else if("IOP1"===y)r=u.pop(),"-"===(i=c.value)||"+"===i?u.push("("+i+r+")"):e?"not"===i?u.push("(!"+r+")"):"!"===i?u.push("fac("+r+")"):u.push(i+"("+r+")"):"!"===i?u.push("("+r+"!)"):u.push("("+i+" "+r+")");else if("IFUNCALL"===y){for(a=c.value,s=[];a-- >0;)s.unshift(u.pop());i=u.pop(),u.push(i+"("+s.join(", ")+")")}else if("IFUNDEF"===y){for(n=u.pop(),a=c.value,s=[];a-- >0;)s.unshift(u.pop());r=u.pop(),e?u.push("("+r+" = function("+s.join(", ")+") { return "+n+" })"):u.push("("+r+"("+s.join(", ")+") = "+n+")")}else if("IMEMBER"===y)r=u.pop(),u.push(r+"."+c.value);else if("IARRAY"===y){for(a=c.value,s=[];a-- >0;)s.unshift(u.pop());u.push("["+s.join(", ")+"]")}else if(y===f)u.push("("+E(c.value,e)+")");else if("IENDSTATEMENT"!==y)throw new Error("invalid Expression")}return u.length>1&&(u=e?[u.join(",")]:[u.join(";")]),String(u[0])}function A(t){return"string"==typeof t?JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):t}function x(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}function _(t,e,r){for(var n=!!(r=r||{}).withMembers,o=null,i=0;i<t.length;i++){var s=t[i];s.type===l||"IVARNAME"===s.type?n||x(e,s.value)?null!==o?(x(e,o)||e.push(o),o=s.value):o=s.value:e.push(s.value):"IMEMBER"===s.type&&n&&null!==o?o+="."+s.value:s.type===f?_(s.value,e,r):null!==o&&(x(e,o)||e.push(o),o=null)}null===o||x(e,o)||e.push(o)}function M(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}y.prototype.toString=function(){switch(this.type){case h:case"IOP1":case"IOP2":case"IOP3":case l:case"IVARNAME":case"IENDSTATEMENT":return this.value;case"IFUNCALL":return"CALL "+this.value;case"IFUNDEF":return"DEF "+this.value;case"IARRAY":return"ARRAY "+this.value;case"IMEMBER":return"."+this.value;default:return"Invalid Instruction"}},M.prototype.simplify=function(t){return t=t||{},new M(function t(e,r,n,o,i){for(var s,a,u,p,c=[],v=[],b=0;b<e.length;b++){var d=e[b],g=d.type;if(g===h||"IVARNAME"===g)Array.isArray(d.value)?c.push.apply(c,t(d.value.map((function(t){return new y(h,t)})).concat(new y("IARRAY",d.value.length)),r,n,o,i)):c.push(d);else if(g===l&&i.hasOwnProperty(d.value))d=new y(h,i[d.value]),c.push(d);else if("IOP2"===g&&c.length>1)a=c.pop(),s=c.pop(),p=n[d.value],d=new y(h,p(s.value,a.value)),c.push(d);else if("IOP3"===g&&c.length>2)u=c.pop(),a=c.pop(),s=c.pop(),"?"===d.value?c.push(s.value?a.value:u.value):(p=o[d.value],d=new y(h,p(s.value,a.value,u.value)),c.push(d));else if("IOP1"===g&&c.length>0)s=c.pop(),p=r[d.value],d=new y(h,p(s.value)),c.push(d);else if(g===f){for(;c.length>0;)v.push(c.shift());v.push(new y(f,t(d.value,r,n,o,i)))}else if("IMEMBER"===g&&c.length>0)s=c.pop(),c.push(new y(h,s.value[d.value]));else{for(;c.length>0;)v.push(c.shift());v.push(d)}}for(;c.length>0;)v.push(c.shift());return v}(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t),this.parser)},M.prototype.substitute=function(t,e){return e instanceof M||(e=this.parser.parse(String(e))),new M(function t(e,r,n){for(var o=[],i=0;i<e.length;i++){var s=e[i],a=s.type;if(a===l&&s.value===r)for(var u=0;u<n.tokens.length;u++){var p,c=n.tokens[u];p="IOP1"===c.type?v(c.value):"IOP2"===c.type?b(c.value):"IOP3"===c.type?d(c.value):new y(c.type,c.value),o.push(p)}else a===f?o.push(new y(f,t(s.value,r,n))):o.push(s)}return o}(this.tokens,t,e),this.parser)},M.prototype.evaluate=function(t){return t=t||{},g(this.tokens,this,t)},M.prototype.toString=function(){return E(this.tokens,!1)},M.prototype.symbols=function(t){t=t||{};var e=[];return _(this.tokens,e,t),e},M.prototype.variables=function(t){t=t||{};var e=[];_(this.tokens,e,t);var r=this.functions;return e.filter((function(t){return!(t in r)}))},M.prototype.toJSFunction=function(t,e){var r=this,n=new Function(t,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+E(this.simplify(e).tokens,!0)+"; }");return function(){return n.apply(r,arguments)}};var j="TOP",S="TPAREN";function T(t,e,r){this.type=t,this.value=e,this.index=r}function k(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}T.prototype.toString=function(){return this.type+": "+this.value},k.prototype.newToken=function(t,e,r){return new T(t,e,null!=r?r:this.pos)},k.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},k.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},k.prototype.next=function(){return this.pos>=this.expression.length?this.newToken("TEOF","EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},k.prototype.isString=function(){var t=!1,e=this.pos,r=this.expression.charAt(e);if("'"===r||'"'===r)for(var n=this.expression.indexOf(r,e+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var o=this.expression.substring(e+1,n);this.current=this.newToken("TSTRING",this.unescape(o),e),t=!0;break}n=this.expression.indexOf(r,n+1)}return t},k.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(S,t),this.pos++,!0)},k.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken("TBRACKET",t),this.pos++,!0)},k.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken("TCOMMA",","),this.pos++,!0)},k.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken("TSEMICOLON",";"),this.pos++,!0)},k.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(n in this.consts)return this.current=this.newToken("TNUMBER",this.consts[n]),this.pos+=n.length,!0}return!1},k.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(j,n),this.pos+=n.length,!0}return!1},k.prototype.isName=function(){for(var t=this.pos,e=t,r=!1;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()){if(e===this.pos&&("$"===n||"_"===n)){"_"===n&&(r=!0);continue}if(e===this.pos||!r||"_"!==n&&(n<"0"||n>"9"))break}else r=!0}if(r){var o=this.expression.substring(t,e);return this.current=this.newToken("TNAME",o),this.pos+=o.length,!0}return!1},k.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var I=/^[0-9a-f]{4}$/i;function P(t,e,r){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess}k.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var r=t.substring(0,e);e>=0;){var n=t.charAt(++e);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var o=t.substring(e+1,e+5);I.test(o)||this.parseError("Illegal escape sequence: \\u"+o),r+=String.fromCharCode(parseInt(o,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++e;var i=t.indexOf("\\",e);r+=t.substring(e,i<0?t.length:i),e=i}return r},k.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},k.prototype.isRadixInteger=function(){var t,e,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))t=16,e=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;t=2,e=/^[01]$/i,++r}for(var n=!1,o=r;r<this.expression.length;){var i=this.expression.charAt(r);if(!e.test(i))break;r++,n=!0}return n&&(this.current=this.newToken("TNUMBER",parseInt(this.expression.substring(o,r),t)),this.pos=r),n},k.prototype.isNumber=function(){for(var t,e=!1,r=this.pos,n=r,o=r,i=!1,s=!1;r<this.expression.length&&((t=this.expression.charAt(r))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:s=!0,r++,e=s;if(e&&(o=r),"e"===t||"E"===t){r++;for(var a=!0,u=!1;r<this.expression.length;){if(t=this.expression.charAt(r),!a||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;u=!0,a=!1}else a=!1;r++}u||(r=o)}return e?(this.current=this.newToken("TNUMBER",parseFloat(this.expression.substring(n,r))),this.pos=r):this.pos=o,e},k.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(j,e);else if("∙"===e||"•"===e)this.current=this.newToken(j,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(j,">="),this.pos++):this.current=this.newToken(j,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(j,"<="),this.pos++):this.current=this.newToken(j,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(j,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(j,"=="),this.pos++):this.current=this.newToken(j,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(j,"!="),this.pos++):this.current=this.newToken(j,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},k.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},k.prototype.getCoordinates=function(){var t,e=0,r=-1;do{e++,t=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:e,column:t}},k.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},P.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},P.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?x(e,t.value):"function"==typeof e?e(t):t.value===e)},P.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},P.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},P.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},P.prototype.expect=function(t,e){if(!this.accept(t,e)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(e||t))}},P.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept("TNAME")||this.accept(j,(function(t){return t.value in e})))t.push(new y(l,this.current.value));else if(this.accept("TNUMBER"))t.push(new y(h,this.current.value));else if(this.accept("TSTRING"))t.push(new y(h,this.current.value));else if(this.accept(S,"("))this.parseExpression(t),this.expect(S,")");else{if(!this.accept("TBRACKET","["))throw new Error("unexpected "+this.nextToken);if(this.accept("TBRACKET","]"))t.push(new y("IARRAY",0));else{var r=this.parseArrayList(t);t.push(new y("IARRAY",r))}}},P.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},P.prototype.pushExpression=function(t,e){for(var r=0,n=e.length;r<n;r++)t.push(e[r])},P.prototype.parseUntilEndStatement=function(t,e){return!!this.accept("TSEMICOLON")&&(!this.nextToken||"TEOF"===this.nextToken.type||this.nextToken.type===S&&")"===this.nextToken.value||e.push(new y("IENDSTATEMENT")),"TEOF"!==this.nextToken.type&&this.parseExpression(e),t.push(new y(f,e)),!0)},P.prototype.parseArrayList=function(t){for(var e=0;!this.accept("TBRACKET","]");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},P.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(j,"=");){var e=t.pop(),r=[],n=t.length-1;if("IFUNCALL"!==e.type){if(e.type!==l&&"IMEMBER"!==e.type)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),t.push(new y("IVARNAME",e.value)),t.push(new y(f,r)),t.push(b("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,i=e.value+1;o<i;o++){var s=n-o;t[s].type===l&&(t[s]=new y("IVARNAME",t[s].value))}this.parseVariableAssignmentExpression(r),t.push(new y(f,r)),t.push(new y("IFUNDEF",e.value))}}},P.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(j,"?");){var e=[],r=[];this.parseConditionalExpression(e),this.expect(j,":"),this.parseConditionalExpression(r),t.push(new y(f,e)),t.push(new y(f,r)),t.push(d("?"))}},P.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(j,"or");){var e=[];this.parseAndExpression(e),t.push(new y(f,e)),t.push(b("or"))}},P.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(j,"and");){var e=[];this.parseComparison(e),t.push(new y(f,e)),t.push(b("and"))}};var N=["==","!=","<","<=",">=",">","in"];P.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(j,N);){var e=this.current;this.parseAddSub(t),t.push(b(e.value))}};var R=["+","-","||"];P.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(j,R);){var e=this.current;this.parseTerm(t),t.push(b(e.value))}};var C=["*","/","%"];function z(t,e){return Number(t)+Number(e)}function F(t,e){return t-e}function L(t,e){return t*e}function D(t,e){return t/e}function U(t,e){return t%e}function q(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e}function V(t,e){return t===e}function B(t,e){return t!==e}function $(t,e){return t>e}function Y(t,e){return t<e}function W(t,e){return t>=e}function G(t,e){return t<=e}function K(t,e){return Boolean(t&&e)}function X(t,e){return Boolean(t||e)}function H(t,e){return x(e,t)}function J(t){return(Math.exp(t)-Math.exp(-t))/2}function Z(t){return(Math.exp(t)+Math.exp(-t))/2}function Q(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function tt(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function et(t){return Math.log(t+Math.sqrt(t*t-1))}function rt(t){return Math.log((1+t)/(1-t))/2}function nt(t){return Math.log(t)*Math.LOG10E}function ot(t){return-t}function it(t){return!t}function st(t){return t<0?Math.ceil(t):Math.floor(t)}function at(t){return Math.random()*(t||1)}function ut(t){return ct(t+1)}P.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(j,C);){var e=this.current;this.parseFactor(t),t.push(b(e.value))}},P.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(j,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===S&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if("TSEMICOLON"===this.nextToken.type||"TCOMMA"===this.nextToken.type||"TEOF"===this.nextToken.type||this.nextToken.type===S&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var r=this.current;this.parseFactor(t),t.push(v(r.value))}else this.parseExponential(t)},P.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(j,"^");)this.parseFactor(t),t.push(b("^"))},P.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(j,"!");)t.push(v("!"))},P.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(j,(function(t){return t.value in e}))){var r=this.current;this.parseAtom(t),t.push(v(r.value))}else for(this.parseMemberExpression(t);this.accept(S,"(");)if(this.accept(S,")"))t.push(new y("IFUNCALL",0));else{var n=this.parseArgumentList(t);t.push(new y("IFUNCALL",n))}},P.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(S,")");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},P.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(j,".")||this.accept("TBRACKET","[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect("TNAME"),t.push(new y("IMEMBER",this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect("TBRACKET","]"),t.push(b("["))}}};var pt=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function ct(t){var e,r;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var n=t-2,o=t-1;n>1;)o*=n,n--;return 0===o&&(o=1),o}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*ct(1-t));if(t>=171.35)return 1/0;if(t>85){var i=t*t,s=i*t,a=s*t,u=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*i)-139/(51840*s)-571/(2488320*a)+163879/(209018880*u)+5246819/(75246796800*u*t))}--t,r=pt[0];for(var p=1;p<pt.length;++p)r+=pt[p]/(t+p);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*r}function ht(t){return Array.isArray(t)?t.length:String(t).length}function lt(){for(var t=0,e=0,r=0;r<arguments.length;r++){var n,o=Math.abs(arguments[r]);e<o?(t=t*(n=e/o)*n+1,e=o):t+=o>0?(n=o/e)*n:o}return e===1/0?1/0:e*Math.sqrt(t)}function ft(t,e,r){return t?e:r}function yt(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function vt(t,e,r){return r&&(r[t]=e),e}function bt(t,e){return t[0|e]}function dt(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function gt(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function mt(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,r){return t(e,r)}))}function Ot(t,e,r){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(e,r,n){return t(e,r,n)}),e)}function wt(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,r){return t(e,r)}))}function Et(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)}function At(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)}function xt(t){return(t>0)-(t<0)||+t}function _t(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)}function Mt(t){return Math.exp(t)-1}function jt(t){return Math.log(1+t)}function St(t){return Math.log(t)/Math.LN2}function Tt(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||J,cosh:Math.cosh||Z,tanh:Math.tanh||Q,asinh:Math.asinh||tt,acosh:Math.acosh||et,atanh:Math.atanh||rt,sqrt:Math.sqrt,cbrt:Math.cbrt||_t,log:Math.log,log2:Math.log2||St,ln:Math.log,lg:Math.log10||nt,log10:Math.log10||nt,expm1:Math.expm1||Mt,log1p:Math.log1p||jt,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||st,"-":ot,"+":Number,exp:Math.exp,not:it,length:ht,"!":ut,sign:Math.sign||xt},this.binaryOps={"+":z,"-":F,"*":L,"/":D,"%":U,"^":Math.pow,"||":q,"==":V,"!=":B,">":$,"<":Y,">=":W,"<=":G,and:K,or:X,in:H,"=":vt,"[":bt},this.ternaryOps={"?":ft},this.functions={random:at,fac:ut,min:gt,max:dt,hypot:Math.hypot||lt,pyt:Math.hypot||lt,pow:Math.pow,atan2:Math.atan2,if:ft,gamma:ct,roundTo:yt,map:mt,fold:Ot,filter:wt,indexOf:Et,join:At},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}Tt.prototype.parse=function(t){var e=[],r=new P(this,new k(this,t),{allowMemberAccess:this.options.allowMemberAccess});return r.parseExpression(e),r.expect("TEOF","EOF"),new M(e,this)},Tt.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var kt=new Tt;Tt.parse=function(t){return kt.parse(t)},Tt.evaluate=function(t,e){return kt.parse(t).evaluate(e)};var It={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Tt.prototype.isOperatorEnabled=function(t){var e=function(t){return It.hasOwnProperty(t)?It[t]:t}(t),r=this.options.operators||{};return!(e in r)||!!r[e]};function Pt(t,e,r){return Math.min(Math.max(t,r),e)}class Nt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}function Rt(t){if("string"!=typeof t)throw new Nt(t);if("transparent"===t.trim().toLowerCase())return[0,0,0,0];let e=t.trim();e=Vt.test(t)?function(t){const e=t.toLowerCase().trim(),r=zt[function(t){let e=5381,r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return(e>>>0)%2341}(e)];if(!r)throw new Nt(t);return"#"+r}(t):t;const r=Lt.exec(e);if(r){const t=Array.from(r).slice(1);return[...t.slice(0,3).map(t=>parseInt(Ft(t,2),16)),parseInt(Ft(t[3]||"f",2),16)/255]}const n=Dt.exec(e);if(n){const t=Array.from(n).slice(1);return[...t.slice(0,3).map(t=>parseInt(t,16)),parseInt(t[3]||"ff",16)/255]}const o=Ut.exec(e);if(o){const t=Array.from(o).slice(1);return[...t.slice(0,3).map(t=>parseInt(t,10)),parseFloat(t[3]||"1")]}const i=qt.exec(e);if(i){const[e,r,n,o]=Array.from(i).slice(1).map(parseFloat);if(Pt(0,100,r)!==r)throw new Nt(t);if(Pt(0,100,n)!==n)throw new Nt(t);return[...$t(e,r,n),o||1]}throw new Nt(t)}const Ct=t=>parseInt(t.replace(/_/g,""),36),zt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const r=Ct(e.substring(0,3)),n=Ct(e.substring(3)).toString(16);let o="";for(let t=0;t<6-n.length;t++)o+="0";return t[r]=`${o}${n}`,t},{}),Ft=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),Lt=new RegExp(`^#${Ft("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Dt=new RegExp(`^#${Ft("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Ut=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Ft(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),qt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,Vt=/^[a-z]+$/i,Bt=t=>Math.round(255*t),$t=(t,e,r)=>{let n=r/100;if(0===e)return[n,n,n].map(Bt);const o=(t%360+360)%360/60,i=(1-Math.abs(2*n-1))*(e/100),s=i*(1-Math.abs(o%2-1));let a=0,u=0,p=0;o>=0&&o<1?(a=i,u=s):o>=1&&o<2?(a=s,u=i):o>=2&&o<3?(u=i,p=s):o>=3&&o<4?(u=s,p=i):o>=4&&o<5?(a=s,p=i):o>=5&&o<6&&(a=i,p=s);const c=n-i/2;return[a+c,u+c,p+c].map(Bt)};function Yt(t){const[e,r,n,o]=Rt(t);let i=t=>{const e=Pt(0,255,t).toString(16);return 1===e.length?"0"+e:e};return`#${i(e)}${i(r)}${i(n)}${o<1?i(Math.round(255*o)):""}`}var Wt,Gt;!function(t){t.SELECTION="selection",t.NO_SELECTION="noselection",t.REMOTE_COMPONENTS="remotecomponents",t.TOKEN_VALUES="tokenvalues",t.STYLES="styles",t.RECEIVED_STORAGE_TYPE="receivedStorageType",t.API_CREDENTIALS="apiCredentials",t.API_PROVIDERS="apiProviders",t.USER_ID="userId",t.RECEIVED_LAST_OPENED="receivedLastOpened",t.UI_SETTINGS="uiSettings"}(Wt||(Wt={})),function(t){t.INITIATE="initiate",t.REMOVE_SINGLE_CREDENTIAL="remove-single-credential",t.GO_TO_NODE="gotonode",t.CREDENTIALS="credentials",t.UPDATE="update",t.CREATE_STYLES="create-styles",t.SET_NODE_DATA="set-node-data",t.REMOVE_NODE_DATA="remove-node-data",t.PULL_STYLES="pull-styles",t.SET_STORAGE_TYPE="set-storage-type",t.NOTIFY="notify",t.SET_UI="set_ui",t.RESIZE_WINDOW="resize_window"}(Gt||(Gt={}));function Kt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Xt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Jt=new Tt;function Zt(t){try{return Jt.evaluate(t),+Jt.evaluate(t).toFixed(3)}catch(e){return t}}function Qt(t){return"object"===Ht(t)&&("string"==typeof(null==t?void 0:t.value)||"number"==typeof(null==t?void 0:t.value)||"object"===Ht(null==t?void 0:t.value))}function te(t){return"object"===Ht(t)&&"typography"===t.type}function ee(t){try{if("string"!=typeof t)return t;var e=/#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/g,r=t;try{var o=Array.from(r.matchAll(/(rgba?\(.*?\))/g),(function(t){return t[0]})),i=Array.from(r.matchAll(/(hsla?\(.*?\))/g),(function(t){return t[0]}));i.length>0&&i.map((function(t){r=r.replace(t,Yt(t))})),o.length>0&&o.map((function(t){var o,i,s,a=t,u=t.replace(/rgba?\(/g,"").replace(")",""),p=u.match(e),c="1";if(p){var h=Kt(Rt(p[0]),3);o=h[0],i=h[1],s=h[2],c=u.split(",").pop().trim()}else{var l=Kt(u.split(",").map((function(t){return t.trim()})),4);o=l[0],i=l[1],s=l[2];var f=l[3];c=void 0===f?"1":f}var y=n(c);r=r.split(a).join(Yt("rgba(".concat(o,", ").concat(i,", ").concat(s,", ").concat(y,")")))}))}catch(e){console.log("error",e,t)}return r}catch(t){console.error(t)}}function re(t){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t){return"object"===re(t)&&"value"in t}var oe=/(\$[^\s,]+\w)|({([^}]*)})/g,ie=function(t){return null==t?void 0:t.toString().match(oe)};function se(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=ne(t)?t.value:t;try{var n=ie(r);if((null==n?void 0:n.length)>0){var o=n.map((function(t){if(t.length>1){var r=t.startsWith("{")?t.slice(1,t.length-1):t.substring(1),n=e.find((function(t){return t.name===r}));if(void 0!==n)return se(n,e)}return t}));n.forEach((function(t,e){var n,i,s=Zt(null!==(n=null===(i=o[e])||void 0===i?void 0:i.value)&&void 0!==n?n:o[e]);r=r.replace(t,s)})),"null"===r&&(r=null)}if(void 0!==r){var i=ie(r);if(!i)return ee(Zt(r))}}catch(r){console.log("Error getting alias value of ".concat(t),e)}return Zt(r)}function ae(t){return!!t&&Boolean(t.toString().match(oe))}function ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(r),!0).forEach((function(e){fe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ce(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||he(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(t,e){if(t){if("string"==typeof t)return le(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(t,e):void 0}}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ye(t){return t.filter((function(e){return function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{if("string"==typeof e?Boolean(e.toString().match(oe)):"typography"===e.type?Object.values(e.value).some((function(t){return Boolean(null==t?void 0:t.toString().match(oe))})):t(e.value.toString(),r)){var n=se(e,r);return null!=n}}catch(t){console.log("Error checking alias of token ".concat(e.name),e,r,t)}return!1}(e,t)}))}function ve(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=ye(t),n=t;return n=t.map((function(t,e,r){var n,o;["typography","boxShadow"].includes(t.type)?n=Array.isArray(t.value)?t.value.map((function(t){return Object.entries(t).reduce((function(t,e){var n=ce(e,2),o=n[0],i=n[1];return t[o]=se(i,r),t}),{})})):Object.entries(t.value).reduce((function(t,e){var n=ce(e,2),o=n[0],i=n[1];return t[o]=se(i,r),t}),{}):o=null===(n=se(t,r))||ae(n);var i=pe(pe({},t),{},{value:n,rawValue:t.rawValue||t.value,failedToResolve:o});return o||delete i.failedToResolve,i})),r.length>0&&(e>r.length||!e)?ve(n,r.length):n}function be(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return Object.entries(t).reverse().forEach((function(t){e&&0!==e.length&&!e.includes(t[0])||t[1].forEach((function(e){r.some((function(t){return t.name===e.name}))||r.push(pe(pe({},c(e)),{},{internal__Parent:t[0]}))}))})),r}function de(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ge(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?de(Object(r),!0).forEach((function(e){me(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function me(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return we(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return we(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ee(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.reduce((function(t,n){if(e.includes(n.internal__Parent))return t;var o=t||{},s=c(n);if(delete s.name,delete s.rawValue,delete s.internal__Parent,r&&"typography"===s.type){var a=Object.entries(s.value).reduce((function(t,e){var r=Oe(e,2),n=r[0],o=r[1];return t[n]={value:o},t}),{});i()(o,n.name,ge({},a))}else i()(o,n.name,s);return t}),{})}function Ae(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(r),!0).forEach((function(e){_e(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Se(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Se(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Te(t){var e=t.tokens,r=t.returnValuesOnly,n=void 0!==r&&r,o=t.expandTypography,i=function t(e){var r,n,o=e.obj,i=e.token,s=e.root,a=void 0===s?null:s,u=e.returnValuesOnly,p=void 0!==u&&u,c=e.expandTypography,h=void 0!==c&&c,l=!!h&&te(i.value);if(Qt(i)&&!l)n=i;else if(te(i)&&!h)n={type:"typography",value:Object.entries(i).reduce((function(t,e){var r=je(e,2),n=r[0],o=r[1];return t[n]=Qt(o)&&p?o.value:o,t}),{})},i.description&&(delete n.value.description,n.description=i.description);else if("object"===Me(i)){var f=i;Qt(i)&&(f=i.value),Object.entries(f).map((function(e){var r=je(e,2),n=r[0],i=r[1],s=je(t({obj:o,token:i,root:[a,n].filter((function(t){return t})).join("."),returnValuesOnly:p,expandTypography:h}),2)[1];a&&s?o.push(xe({name:[a,n].join(".")},s)):s&&o.push(xe({name:n},s))}))}else n={value:i};return null!==(r=n)&&void 0!==r&&r.name&&(n.name=n.name.split("/").join(".")),[o,n]}({obj:[],token:e,returnValuesOnly:n,expandTypography:void 0!==o&&o}),s=je(i,1)[0];return Object.values(s)}function ke(t){return function(t){if(Array.isArray(t))return Ie(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ie(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pe(t){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Re(t){if(Array.isArray(t))return{global:t};var e=Object.entries(t).reduce((function(t,e){var r=e[1];if(Array.isArray(r))return t.push(Ne({},e[0],r)),t;if("object"===Pe(r)){var n=Te({tokens:r});return t.push(Ne({},e[0],n)),t}return t}),[]);return Object.assign.apply(Object,[{}].concat(ke(e)))}e.default=function(t,e,r,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{expandTypography:!1},o=Re(t),i=be(o,e),s=ve(i),a=Ee(s,r,n.expandTypography);return a}(t,e,r,n)}}]);
\ No newline at end of file
+ */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,r){"use strict";function n(t){return t.match(/(\d+%)/)?Number(t.match(/(\d+%)/)[0].slice(0,-1))/100:Number(t)}r.r(e);var o=r(0),i=r.n(o);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t){switch(t){case"color":case"colors":return"color";case"space":case"spacing":return"spacing";case"size":case"sizing":return"sizing";case"boxShadow":return"boxShadow";case"border":return"border";case"borderRadius":return"borderRadius";case"borderWidth":return"borderWidth";case"opacity":return"opacity";case"fontFamilies":return"fontFamilies";case"fontWeights":return"fontWeights";case"fontSizes":return"fontSizes";case"lineHeights":return"lineHeights";case"typography":return"typography";case"letterSpacing":return"letterSpacing";case"paragraphSpacing":return"paragraphSpacing";default:return"other"}}function c(t){var e=t.type&&""!==t.type&&"undefined"!==t.type?t.type:p(t.name.split(".").slice(0,1).toString());return a(a({},t),{},{type:e})}var h="INUMBER",l="IVAR",f="IEXPR";function y(t,e){this.type=t,this.value=null!=e?e:0}function v(t){return new y("IOP1",t)}function b(t){return new y("IOP2",t)}function d(t){return new y("IOP3",t)}function g(t,e,r){var n,o,i,s,a,u,p=[];if(O(t))return w(t,r);for(var c=t.length,y=0;y<c;y++){var v=t[y],b=v.type;if(b===h||"IVARNAME"===b)p.push(v.value);else if("IOP2"===b)o=p.pop(),n=p.pop(),"and"===v.value?p.push(!!n&&!!g(o,e,r)):"or"===v.value?p.push(!!n||!!g(o,e,r)):"="===v.value?(s=e.binaryOps[v.value],p.push(s(n,g(o,e,r),r))):(s=e.binaryOps[v.value],p.push(s(w(n,r),w(o,r))));else if("IOP3"===b)i=p.pop(),o=p.pop(),n=p.pop(),"?"===v.value?p.push(g(n?o:i,e,r)):(s=e.ternaryOps[v.value],p.push(s(w(n,r),w(o,r),w(i,r))));else if(b===l)if(v.value in e.functions)p.push(e.functions[v.value]);else if(v.value in e.unaryOps&&e.parser.isOperatorEnabled(v.value))p.push(e.unaryOps[v.value]);else{var d=r[v.value];if(void 0===d)throw new Error("undefined variable: "+v.value);p.push(d)}else if("IOP1"===b)n=p.pop(),s=e.unaryOps[v.value],p.push(s(w(n,r)));else if("IFUNCALL"===b){for(u=v.value,a=[];u-- >0;)a.unshift(w(p.pop(),r));if(!(s=p.pop()).apply||!s.call)throw new Error(s+" is not a function");p.push(s.apply(void 0,a))}else if("IFUNDEF"===b)p.push(function(){for(var t=p.pop(),n=[],o=v.value;o-- >0;)n.unshift(p.pop());var i=p.pop(),s=function(){for(var o=Object.assign({},r),i=0,s=n.length;i<s;i++)o[n[i]]=arguments[i];return g(t,e,o)};return Object.defineProperty(s,"name",{value:i,writable:!1}),r[i]=s,s}());else if(b===f)p.push(m(v,e));else if("IEXPREVAL"===b)p.push(v);else if("IMEMBER"===b)n=p.pop(),p.push(n[v.value]);else if("IENDSTATEMENT"===b)p.pop();else{if("IARRAY"!==b)throw new Error("invalid Expression");for(u=v.value,a=[];u-- >0;)a.unshift(p.pop());p.push(a)}}if(p.length>1)throw new Error("invalid Expression (parity)");return 0===p[0]?0:w(p[0],r)}function m(t,e,r){return O(t)?t:{type:"IEXPREVAL",value:function(r){return g(t.value,e,r)}}}function O(t){return t&&"IEXPREVAL"===t.type}function w(t,e){return O(t)?t.value(e):t}function E(t,e){for(var r,n,o,i,s,a,u=[],p=0;p<t.length;p++){var c=t[p],y=c.type;if(y===h)"number"==typeof c.value&&c.value<0?u.push("("+c.value+")"):Array.isArray(c.value)?u.push("["+c.value.map(A).join(", ")+"]"):u.push(A(c.value));else if("IOP2"===y)n=u.pop(),r=u.pop(),i=c.value,e?"^"===i?u.push("Math.pow("+r+", "+n+")"):"and"===i?u.push("(!!"+r+" && !!"+n+")"):"or"===i?u.push("(!!"+r+" || !!"+n+")"):"||"===i?u.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+r+"),("+n+")))"):"=="===i?u.push("("+r+" === "+n+")"):"!="===i?u.push("("+r+" !== "+n+")"):"["===i?u.push(r+"[("+n+") | 0]"):u.push("("+r+" "+i+" "+n+")"):"["===i?u.push(r+"["+n+"]"):u.push("("+r+" "+i+" "+n+")");else if("IOP3"===y){if(o=u.pop(),n=u.pop(),r=u.pop(),"?"!==(i=c.value))throw new Error("invalid Expression");u.push("("+r+" ? "+n+" : "+o+")")}else if(y===l||"IVARNAME"===y)u.push(c.value);else if("IOP1"===y)r=u.pop(),"-"===(i=c.value)||"+"===i?u.push("("+i+r+")"):e?"not"===i?u.push("(!"+r+")"):"!"===i?u.push("fac("+r+")"):u.push(i+"("+r+")"):"!"===i?u.push("("+r+"!)"):u.push("("+i+" "+r+")");else if("IFUNCALL"===y){for(a=c.value,s=[];a-- >0;)s.unshift(u.pop());i=u.pop(),u.push(i+"("+s.join(", ")+")")}else if("IFUNDEF"===y){for(n=u.pop(),a=c.value,s=[];a-- >0;)s.unshift(u.pop());r=u.pop(),e?u.push("("+r+" = function("+s.join(", ")+") { return "+n+" })"):u.push("("+r+"("+s.join(", ")+") = "+n+")")}else if("IMEMBER"===y)r=u.pop(),u.push(r+"."+c.value);else if("IARRAY"===y){for(a=c.value,s=[];a-- >0;)s.unshift(u.pop());u.push("["+s.join(", ")+"]")}else if(y===f)u.push("("+E(c.value,e)+")");else if("IENDSTATEMENT"!==y)throw new Error("invalid Expression")}return u.length>1&&(u=e?[u.join(",")]:[u.join(";")]),String(u[0])}function A(t){return"string"==typeof t?JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):t}function x(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}function _(t,e,r){for(var n=!!(r=r||{}).withMembers,o=null,i=0;i<t.length;i++){var s=t[i];s.type===l||"IVARNAME"===s.type?n||x(e,s.value)?null!==o?(x(e,o)||e.push(o),o=s.value):o=s.value:e.push(s.value):"IMEMBER"===s.type&&n&&null!==o?o+="."+s.value:s.type===f?_(s.value,e,r):null!==o&&(x(e,o)||e.push(o),o=null)}null===o||x(e,o)||e.push(o)}function M(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}y.prototype.toString=function(){switch(this.type){case h:case"IOP1":case"IOP2":case"IOP3":case l:case"IVARNAME":case"IENDSTATEMENT":return this.value;case"IFUNCALL":return"CALL "+this.value;case"IFUNDEF":return"DEF "+this.value;case"IARRAY":return"ARRAY "+this.value;case"IMEMBER":return"."+this.value;default:return"Invalid Instruction"}},M.prototype.simplify=function(t){return t=t||{},new M(function t(e,r,n,o,i){for(var s,a,u,p,c=[],v=[],b=0;b<e.length;b++){var d=e[b],g=d.type;if(g===h||"IVARNAME"===g)Array.isArray(d.value)?c.push.apply(c,t(d.value.map((function(t){return new y(h,t)})).concat(new y("IARRAY",d.value.length)),r,n,o,i)):c.push(d);else if(g===l&&i.hasOwnProperty(d.value))d=new y(h,i[d.value]),c.push(d);else if("IOP2"===g&&c.length>1)a=c.pop(),s=c.pop(),p=n[d.value],d=new y(h,p(s.value,a.value)),c.push(d);else if("IOP3"===g&&c.length>2)u=c.pop(),a=c.pop(),s=c.pop(),"?"===d.value?c.push(s.value?a.value:u.value):(p=o[d.value],d=new y(h,p(s.value,a.value,u.value)),c.push(d));else if("IOP1"===g&&c.length>0)s=c.pop(),p=r[d.value],d=new y(h,p(s.value)),c.push(d);else if(g===f){for(;c.length>0;)v.push(c.shift());v.push(new y(f,t(d.value,r,n,o,i)))}else if("IMEMBER"===g&&c.length>0)s=c.pop(),c.push(new y(h,s.value[d.value]));else{for(;c.length>0;)v.push(c.shift());v.push(d)}}for(;c.length>0;)v.push(c.shift());return v}(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t),this.parser)},M.prototype.substitute=function(t,e){return e instanceof M||(e=this.parser.parse(String(e))),new M(function t(e,r,n){for(var o=[],i=0;i<e.length;i++){var s=e[i],a=s.type;if(a===l&&s.value===r)for(var u=0;u<n.tokens.length;u++){var p,c=n.tokens[u];p="IOP1"===c.type?v(c.value):"IOP2"===c.type?b(c.value):"IOP3"===c.type?d(c.value):new y(c.type,c.value),o.push(p)}else a===f?o.push(new y(f,t(s.value,r,n))):o.push(s)}return o}(this.tokens,t,e),this.parser)},M.prototype.evaluate=function(t){return t=t||{},g(this.tokens,this,t)},M.prototype.toString=function(){return E(this.tokens,!1)},M.prototype.symbols=function(t){t=t||{};var e=[];return _(this.tokens,e,t),e},M.prototype.variables=function(t){t=t||{};var e=[];_(this.tokens,e,t);var r=this.functions;return e.filter((function(t){return!(t in r)}))},M.prototype.toJSFunction=function(t,e){var r=this,n=new Function(t,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+E(this.simplify(e).tokens,!0)+"; }");return function(){return n.apply(r,arguments)}};var j="TOP",S="TPAREN";function T(t,e,r){this.type=t,this.value=e,this.index=r}function k(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}T.prototype.toString=function(){return this.type+": "+this.value},k.prototype.newToken=function(t,e,r){return new T(t,e,null!=r?r:this.pos)},k.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},k.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},k.prototype.next=function(){return this.pos>=this.expression.length?this.newToken("TEOF","EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},k.prototype.isString=function(){var t=!1,e=this.pos,r=this.expression.charAt(e);if("'"===r||'"'===r)for(var n=this.expression.indexOf(r,e+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var o=this.expression.substring(e+1,n);this.current=this.newToken("TSTRING",this.unescape(o),e),t=!0;break}n=this.expression.indexOf(r,n+1)}return t},k.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(S,t),this.pos++,!0)},k.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken("TBRACKET",t),this.pos++,!0)},k.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken("TCOMMA",","),this.pos++,!0)},k.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken("TSEMICOLON",";"),this.pos++,!0)},k.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(n in this.consts)return this.current=this.newToken("TNUMBER",this.consts[n]),this.pos+=n.length,!0}return!1},k.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(j,n),this.pos+=n.length,!0}return!1},k.prototype.isName=function(){for(var t=this.pos,e=t,r=!1;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()){if(e===this.pos&&("$"===n||"_"===n)){"_"===n&&(r=!0);continue}if(e===this.pos||!r||"_"!==n&&(n<"0"||n>"9"))break}else r=!0}if(r){var o=this.expression.substring(t,e);return this.current=this.newToken("TNAME",o),this.pos+=o.length,!0}return!1},k.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var I=/^[0-9a-f]{4}$/i;function P(t,e,r){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess}k.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var r=t.substring(0,e);e>=0;){var n=t.charAt(++e);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var o=t.substring(e+1,e+5);I.test(o)||this.parseError("Illegal escape sequence: \\u"+o),r+=String.fromCharCode(parseInt(o,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++e;var i=t.indexOf("\\",e);r+=t.substring(e,i<0?t.length:i),e=i}return r},k.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},k.prototype.isRadixInteger=function(){var t,e,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))t=16,e=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;t=2,e=/^[01]$/i,++r}for(var n=!1,o=r;r<this.expression.length;){var i=this.expression.charAt(r);if(!e.test(i))break;r++,n=!0}return n&&(this.current=this.newToken("TNUMBER",parseInt(this.expression.substring(o,r),t)),this.pos=r),n},k.prototype.isNumber=function(){for(var t,e=!1,r=this.pos,n=r,o=r,i=!1,s=!1;r<this.expression.length&&((t=this.expression.charAt(r))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:s=!0,r++,e=s;if(e&&(o=r),"e"===t||"E"===t){r++;for(var a=!0,u=!1;r<this.expression.length;){if(t=this.expression.charAt(r),!a||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;u=!0,a=!1}else a=!1;r++}u||(r=o)}return e?(this.current=this.newToken("TNUMBER",parseFloat(this.expression.substring(n,r))),this.pos=r):this.pos=o,e},k.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(j,e);else if("∙"===e||"•"===e)this.current=this.newToken(j,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(j,">="),this.pos++):this.current=this.newToken(j,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(j,"<="),this.pos++):this.current=this.newToken(j,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(j,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(j,"=="),this.pos++):this.current=this.newToken(j,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(j,"!="),this.pos++):this.current=this.newToken(j,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},k.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},k.prototype.getCoordinates=function(){var t,e=0,r=-1;do{e++,t=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:e,column:t}},k.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},P.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},P.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?x(e,t.value):"function"==typeof e?e(t):t.value===e)},P.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},P.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},P.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},P.prototype.expect=function(t,e){if(!this.accept(t,e)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(e||t))}},P.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept("TNAME")||this.accept(j,(function(t){return t.value in e})))t.push(new y(l,this.current.value));else if(this.accept("TNUMBER"))t.push(new y(h,this.current.value));else if(this.accept("TSTRING"))t.push(new y(h,this.current.value));else if(this.accept(S,"("))this.parseExpression(t),this.expect(S,")");else{if(!this.accept("TBRACKET","["))throw new Error("unexpected "+this.nextToken);if(this.accept("TBRACKET","]"))t.push(new y("IARRAY",0));else{var r=this.parseArrayList(t);t.push(new y("IARRAY",r))}}},P.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},P.prototype.pushExpression=function(t,e){for(var r=0,n=e.length;r<n;r++)t.push(e[r])},P.prototype.parseUntilEndStatement=function(t,e){return!!this.accept("TSEMICOLON")&&(!this.nextToken||"TEOF"===this.nextToken.type||this.nextToken.type===S&&")"===this.nextToken.value||e.push(new y("IENDSTATEMENT")),"TEOF"!==this.nextToken.type&&this.parseExpression(e),t.push(new y(f,e)),!0)},P.prototype.parseArrayList=function(t){for(var e=0;!this.accept("TBRACKET","]");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},P.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(j,"=");){var e=t.pop(),r=[],n=t.length-1;if("IFUNCALL"!==e.type){if(e.type!==l&&"IMEMBER"!==e.type)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),t.push(new y("IVARNAME",e.value)),t.push(new y(f,r)),t.push(b("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,i=e.value+1;o<i;o++){var s=n-o;t[s].type===l&&(t[s]=new y("IVARNAME",t[s].value))}this.parseVariableAssignmentExpression(r),t.push(new y(f,r)),t.push(new y("IFUNDEF",e.value))}}},P.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(j,"?");){var e=[],r=[];this.parseConditionalExpression(e),this.expect(j,":"),this.parseConditionalExpression(r),t.push(new y(f,e)),t.push(new y(f,r)),t.push(d("?"))}},P.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(j,"or");){var e=[];this.parseAndExpression(e),t.push(new y(f,e)),t.push(b("or"))}},P.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(j,"and");){var e=[];this.parseComparison(e),t.push(new y(f,e)),t.push(b("and"))}};var N=["==","!=","<","<=",">=",">","in"];P.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(j,N);){var e=this.current;this.parseAddSub(t),t.push(b(e.value))}};var R=["+","-","||"];P.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(j,R);){var e=this.current;this.parseTerm(t),t.push(b(e.value))}};var C=["*","/","%"];function z(t,e){return Number(t)+Number(e)}function F(t,e){return t-e}function L(t,e){return t*e}function D(t,e){return t/e}function U(t,e){return t%e}function q(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e}function V(t,e){return t===e}function B(t,e){return t!==e}function $(t,e){return t>e}function Y(t,e){return t<e}function W(t,e){return t>=e}function G(t,e){return t<=e}function K(t,e){return Boolean(t&&e)}function X(t,e){return Boolean(t||e)}function H(t,e){return x(e,t)}function J(t){return(Math.exp(t)-Math.exp(-t))/2}function Z(t){return(Math.exp(t)+Math.exp(-t))/2}function Q(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function tt(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function et(t){return Math.log(t+Math.sqrt(t*t-1))}function rt(t){return Math.log((1+t)/(1-t))/2}function nt(t){return Math.log(t)*Math.LOG10E}function ot(t){return-t}function it(t){return!t}function st(t){return t<0?Math.ceil(t):Math.floor(t)}function at(t){return Math.random()*(t||1)}function ut(t){return ct(t+1)}P.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(j,C);){var e=this.current;this.parseFactor(t),t.push(b(e.value))}},P.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(j,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===S&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if("TSEMICOLON"===this.nextToken.type||"TCOMMA"===this.nextToken.type||"TEOF"===this.nextToken.type||this.nextToken.type===S&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var r=this.current;this.parseFactor(t),t.push(v(r.value))}else this.parseExponential(t)},P.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(j,"^");)this.parseFactor(t),t.push(b("^"))},P.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(j,"!");)t.push(v("!"))},P.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(j,(function(t){return t.value in e}))){var r=this.current;this.parseAtom(t),t.push(v(r.value))}else for(this.parseMemberExpression(t);this.accept(S,"(");)if(this.accept(S,")"))t.push(new y("IFUNCALL",0));else{var n=this.parseArgumentList(t);t.push(new y("IFUNCALL",n))}},P.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(S,")");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},P.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(j,".")||this.accept("TBRACKET","[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect("TNAME"),t.push(new y("IMEMBER",this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect("TBRACKET","]"),t.push(b("["))}}};var pt=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function ct(t){var e,r;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var n=t-2,o=t-1;n>1;)o*=n,n--;return 0===o&&(o=1),o}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*ct(1-t));if(t>=171.35)return 1/0;if(t>85){var i=t*t,s=i*t,a=s*t,u=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*i)-139/(51840*s)-571/(2488320*a)+163879/(209018880*u)+5246819/(75246796800*u*t))}--t,r=pt[0];for(var p=1;p<pt.length;++p)r+=pt[p]/(t+p);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*r}function ht(t){return Array.isArray(t)?t.length:String(t).length}function lt(){for(var t=0,e=0,r=0;r<arguments.length;r++){var n,o=Math.abs(arguments[r]);e<o?(t=t*(n=e/o)*n+1,e=o):t+=o>0?(n=o/e)*n:o}return e===1/0?1/0:e*Math.sqrt(t)}function ft(t,e,r){return t?e:r}function yt(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function vt(t,e,r){return r&&(r[t]=e),e}function bt(t,e){return t[0|e]}function dt(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function gt(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function mt(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,r){return t(e,r)}))}function Ot(t,e,r){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(e,r,n){return t(e,r,n)}),e)}function wt(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,r){return t(e,r)}))}function Et(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)}function At(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)}function xt(t){return(t>0)-(t<0)||+t}function _t(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)}function Mt(t){return Math.exp(t)-1}function jt(t){return Math.log(1+t)}function St(t){return Math.log(t)/Math.LN2}function Tt(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||J,cosh:Math.cosh||Z,tanh:Math.tanh||Q,asinh:Math.asinh||tt,acosh:Math.acosh||et,atanh:Math.atanh||rt,sqrt:Math.sqrt,cbrt:Math.cbrt||_t,log:Math.log,log2:Math.log2||St,ln:Math.log,lg:Math.log10||nt,log10:Math.log10||nt,expm1:Math.expm1||Mt,log1p:Math.log1p||jt,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||st,"-":ot,"+":Number,exp:Math.exp,not:it,length:ht,"!":ut,sign:Math.sign||xt},this.binaryOps={"+":z,"-":F,"*":L,"/":D,"%":U,"^":Math.pow,"||":q,"==":V,"!=":B,">":$,"<":Y,">=":W,"<=":G,and:K,or:X,in:H,"=":vt,"[":bt},this.ternaryOps={"?":ft},this.functions={random:at,fac:ut,min:gt,max:dt,hypot:Math.hypot||lt,pyt:Math.hypot||lt,pow:Math.pow,atan2:Math.atan2,if:ft,gamma:ct,roundTo:yt,map:mt,fold:Ot,filter:wt,indexOf:Et,join:At},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}Tt.prototype.parse=function(t){var e=[],r=new P(this,new k(this,t),{allowMemberAccess:this.options.allowMemberAccess});return r.parseExpression(e),r.expect("TEOF","EOF"),new M(e,this)},Tt.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var kt=new Tt;Tt.parse=function(t){return kt.parse(t)},Tt.evaluate=function(t,e){return kt.parse(t).evaluate(e)};var It={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Tt.prototype.isOperatorEnabled=function(t){var e=function(t){return It.hasOwnProperty(t)?It[t]:t}(t),r=this.options.operators||{};return!(e in r)||!!r[e]};function Pt(t,e,r){return Math.min(Math.max(t,r),e)}class Nt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}function Rt(t){if("string"!=typeof t)throw new Nt(t);if("transparent"===t.trim().toLowerCase())return[0,0,0,0];let e=t.trim();e=Vt.test(t)?function(t){const e=t.toLowerCase().trim(),r=zt[function(t){let e=5381,r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return(e>>>0)%2341}(e)];if(!r)throw new Nt(t);return"#"+r}(t):t;const r=Lt.exec(e);if(r){const t=Array.from(r).slice(1);return[...t.slice(0,3).map(t=>parseInt(Ft(t,2),16)),parseInt(Ft(t[3]||"f",2),16)/255]}const n=Dt.exec(e);if(n){const t=Array.from(n).slice(1);return[...t.slice(0,3).map(t=>parseInt(t,16)),parseInt(t[3]||"ff",16)/255]}const o=Ut.exec(e);if(o){const t=Array.from(o).slice(1);return[...t.slice(0,3).map(t=>parseInt(t,10)),parseFloat(t[3]||"1")]}const i=qt.exec(e);if(i){const[e,r,n,o]=Array.from(i).slice(1).map(parseFloat);if(Pt(0,100,r)!==r)throw new Nt(t);if(Pt(0,100,n)!==n)throw new Nt(t);return[...$t(e,r,n),o||1]}throw new Nt(t)}const Ct=t=>parseInt(t.replace(/_/g,""),36),zt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const r=Ct(e.substring(0,3)),n=Ct(e.substring(3)).toString(16);let o="";for(let t=0;t<6-n.length;t++)o+="0";return t[r]=`${o}${n}`,t},{}),Ft=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),Lt=new RegExp(`^#${Ft("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Dt=new RegExp(`^#${Ft("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Ut=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Ft(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),qt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,Vt=/^[a-z]+$/i,Bt=t=>Math.round(255*t),$t=(t,e,r)=>{let n=r/100;if(0===e)return[n,n,n].map(Bt);const o=(t%360+360)%360/60,i=(1-Math.abs(2*n-1))*(e/100),s=i*(1-Math.abs(o%2-1));let a=0,u=0,p=0;o>=0&&o<1?(a=i,u=s):o>=1&&o<2?(a=s,u=i):o>=2&&o<3?(u=i,p=s):o>=3&&o<4?(u=s,p=i):o>=4&&o<5?(a=s,p=i):o>=5&&o<6&&(a=i,p=s);const c=n-i/2;return[a+c,u+c,p+c].map(Bt)};function Yt(t){const[e,r,n,o]=Rt(t);let i=t=>{const e=Pt(0,255,t).toString(16);return 1===e.length?"0"+e:e};return`#${i(e)}${i(r)}${i(n)}${o<1?i(Math.round(255*o)):""}`}var Wt,Gt;!function(t){t.SELECTION="selection",t.NO_SELECTION="noselection",t.REMOTE_COMPONENTS="remotecomponents",t.TOKEN_VALUES="tokenvalues",t.STYLES="styles",t.RECEIVED_STORAGE_TYPE="receivedStorageType",t.API_CREDENTIALS="apiCredentials",t.API_PROVIDERS="apiProviders",t.USER_ID="userId",t.RECEIVED_LAST_OPENED="receivedLastOpened",t.UI_SETTINGS="uiSettings"}(Wt||(Wt={})),function(t){t.INITIATE="initiate",t.REMOVE_SINGLE_CREDENTIAL="remove-single-credential",t.GO_TO_NODE="gotonode",t.CREDENTIALS="credentials",t.UPDATE="update",t.CREATE_STYLES="create-styles",t.SET_NODE_DATA="set-node-data",t.REMOVE_NODE_DATA="remove-node-data",t.PULL_STYLES="pull-styles",t.SET_STORAGE_TYPE="set-storage-type",t.NOTIFY="notify",t.SET_UI="set_ui",t.RESIZE_WINDOW="resize_window"}(Gt||(Gt={}));function Kt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Xt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Jt=new Tt;function Zt(t){try{return Jt.evaluate(t),+Jt.evaluate(t).toFixed(3)}catch(e){return t}}function Qt(t){return"object"===Ht(t)&&("string"==typeof(null==t?void 0:t.value)||"number"==typeof(null==t?void 0:t.value)||"object"===Ht(null==t?void 0:t.value))}function te(t){return"object"===Ht(t)&&"typography"===t.type}function ee(t){try{if("string"!=typeof t)return t;var e=/#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/g,r=t;try{var o=Array.from(r.matchAll(/(rgba?\(.*?\))/g),(function(t){return t[0]})),i=Array.from(r.matchAll(/(hsla?\(.*?\))/g),(function(t){return t[0]}));i.length>0&&i.map((function(t){r=r.replace(t,Yt(t))})),o.length>0&&o.map((function(t){var o,i,s,a=t,u=t.replace(/rgba?\(/g,"").replace(")",""),p=u.match(e),c="1";if(p){var h=Kt(Rt(p[0]),3);o=h[0],i=h[1],s=h[2],c=u.split(",").pop().trim()}else{var l=Kt(u.split(",").map((function(t){return t.trim()})),4);o=l[0],i=l[1],s=l[2];var f=l[3];c=void 0===f?"1":f}var y=n(c);r=r.split(a).join(Yt("rgba(".concat(o,", ").concat(i,", ").concat(s,", ").concat(y,")")))}))}catch(e){console.log("error",e,t)}return r}catch(t){console.error(t)}}function re(t){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t){return"object"===re(t)&&"value"in t}var oe=/(\$[^\s,]+\w)|({([^}]*)})/g,ie=function(t){return null==t?void 0:t.toString().match(oe)};function se(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=ne(t)?t.value:t;try{var n=ie(r);if((null==n?void 0:n.length)>0){var o=n.map((function(t){if(t.length>1){var r=t.startsWith("{")?t.slice(1,t.length-1):t.substring(1),n=e.find((function(t){return t.name===r}));if(void 0!==n)return se(n,e)}return t}));n.forEach((function(t,e){var n,i,s=Zt(null!==(n=null===(i=o[e])||void 0===i?void 0:i.value)&&void 0!==n?n:o[e]);r=r.replace(t,s)})),"null"===r&&(r=null)}if(void 0!==r){var i=ie(r);if(!i)return ee(Zt(r))}}catch(r){console.log("Error getting alias value of ".concat(t),e)}return Zt(r)}function ae(t){return!!t&&Boolean(t.toString().match(oe))}function ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(r),!0).forEach((function(e){fe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ce(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||he(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(t,e){if(t){if("string"==typeof t)return le(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(t,e):void 0}}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ye(t){return t.filter((function(e){return function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{if("string"==typeof e?Boolean(e.toString().match(oe)):"typography"===e.type?Object.values(e.value).some((function(t){return Boolean(null==t?void 0:t.toString().match(oe))})):t(e.value.toString(),r)){var n=se(e,r);return null!=n}}catch(t){console.log("Error checking alias of token ".concat(e.name),e,r,t)}return!1}(e,t)}))}function ve(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=ye(t),n=t;return n=t.map((function(t,e,r){var n,o;["typography","boxShadow"].includes(t.type)?n=Array.isArray(t.value)?t.value.map((function(t){return Object.entries(t).reduce((function(t,e){var n=ce(e,2),o=n[0],i=n[1];return t[o]=se(i,r),t}),{})})):Object.entries(t.value).reduce((function(t,e){var n=ce(e,2),o=n[0],i=n[1];return t[o]=se(i,r),t}),{}):o=null===(n=se(t,r))||ae(n);var i=pe(pe({},t),{},{value:n,rawValue:t.rawValue||t.value,failedToResolve:o});return o||delete i.failedToResolve,i})),r.length>0&&(e>r.length||!e)?ve(n,r.length):n}function be(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return Object.entries(t).reverse().forEach((function(t){e&&0!==e.length&&!e.includes(t[0])||t[1].forEach((function(e){r.some((function(t){return t.name===e.name}))||r.push(pe(pe({},c(e)),{},{internal__Parent:t[0]}))}))})),r}function de(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ge(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?de(Object(r),!0).forEach((function(e){me(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function me(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return we(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return we(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ee(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.reduce((function(t,n){if(e.includes(n.internal__Parent))return t;var o=t||{},s=c(n);if(delete s.name,delete s.internal__Parent,r&&"typography"===s.type){var a=Object.entries(s.value).reduce((function(t,e){var r=Oe(e,2),n=r[0],o=r[1];return t[n]={value:o},t}),{});i()(o,n.name,ge({},a))}else i()(o,n.name,s);return t}),{})}function Ae(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(r),!0).forEach((function(e){_e(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Se(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Se(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Te(t){var e=t.tokens,r=t.returnValuesOnly,n=void 0!==r&&r,o=t.expandTypography,i=function t(e){var r,n,o=e.obj,i=e.token,s=e.root,a=void 0===s?null:s,u=e.returnValuesOnly,p=void 0!==u&&u,c=e.expandTypography,h=void 0!==c&&c,l=!!h&&te(i.value);if(Qt(i)&&!l)n=i;else if(te(i)&&!h)n={type:"typography",value:Object.entries(i).reduce((function(t,e){var r=je(e,2),n=r[0],o=r[1];return t[n]=Qt(o)&&p?o.value:o,t}),{})},i.description&&(delete n.value.description,n.description=i.description);else if("object"===Me(i)){var f=i;Qt(i)&&(f=i.value),Object.entries(f).map((function(e){var r=je(e,2),n=r[0],i=r[1],s=je(t({obj:o,token:i,root:[a,n].filter((function(t){return t})).join("."),returnValuesOnly:p,expandTypography:h}),2)[1];a&&s?o.push(xe({name:[a,n].join(".")},s)):s&&o.push(xe({name:n},s))}))}else n={value:i};return null!==(r=n)&&void 0!==r&&r.name&&(n.name=n.name.split("/").join(".")),[o,n]}({obj:[],token:e,returnValuesOnly:n,expandTypography:void 0!==o&&o}),s=je(i,1)[0];return Object.values(s)}function ke(t){return function(t){if(Array.isArray(t))return Ie(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ie(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pe(t){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Re(t){if(Array.isArray(t))return{global:t};var e=Object.entries(t).reduce((function(t,e){var r=e[1];if(Array.isArray(r))return t.push(Ne({},e[0],r)),t;if("object"===Pe(r)){var n=Te({tokens:r});return t.push(Ne({},e[0],n)),t}return t}),[]);return Object.assign.apply(Object,[{}].concat(ke(e)))}e.default=function(t,e,r,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{expandTypography:!1},o=Re(t),i=be(o,e),s=ve(i),a=Ee(s,r,n.expandTypography);return a}(t,e,r,n)}}]);
